webpackJsonp([1],{0:function(e,t,n){e.exports=n(191)},92:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_USER="App/ADD_USER",t.REMOVE_USER="App/REMOVE_USER",t.ADD_MESSAGE="App/ADD_MESSAGE",t.SET_CURRENT_USERID="App/SET_CURRENT_USERID"}).call(this)}finally{}},185:function(e,t){e.exports="/* Application specific CSS */\n\nfooter {\n  color: white;\n  position: fixed;\n  padding: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 130px;\n}\n\nfooter .input-field input,\nbutton {\n  border-color: #FFFFFF;\n}\n\n.chip {\n  font-style: italic;\n}\n\n/* ChatHistory styles */\n\n.collection {\n  margin-bottom: 130px;\n  margin-top: -1px;\n}\n\n.message-date {\n  color: #585858;\n}\n\nbody {\n  background: #EEEEEE;\n}\n"},186:function(e,t,n){try{(function(){"use strict";function e(e){return{type:o.SET_CURRENT_USERID,payload:e}}function r(e){return{type:o.ADD_MESSAGE,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentUserID=e,t.addMessage=r;var o=n(92)}).call(this)}finally{}},187:function(e,t,n){try{(function(){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),l=e(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return l.createElement("ul",{className:"collection"},e.history.map(function(e){var t="https://api.adorable.io/avatars/92/"+e.Who,n=new Date(e.When),r=n.toLocaleDateString()+" at "+n.toLocaleTimeString();return l.createElement("li",{className:"collection-item avatar",key:e.When},l.createElement("img",{src:t,alt:e.Who,className:"circle"}),l.createElement("span",{className:"title"},"Anonymous robot #",e.Who),l.createElement("p",null,l.createElement("i",{className:"prefix mdi-action-alarm"}),l.createElement("span",{className:"message-date"},r),l.createElement("br",null),l.createElement("span",null,e.What)))}))}}]),t}(l.Component);c.propTypes={history:l.PropTypes.array},t.default=c}).call(this)}finally{}},188:function(e,t,n){try{(function(){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),l=e(i),c=function(e){function t(){var e,n,a,u;r(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onSubmit=function(e){e.preventDefault();var t=a.refs.txtMessage.value;if(0!==t.length){var n={Who:a.props.userID,What:t,When:(new Date).valueOf()};a.props.sendMessage(n),a.refs.txtMessage.value="",a.refs.txtMessage.focus()}},u=n,o(a,u)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.refs.txtMessage.focus()}},{key:"render",value:function(){var e=this.props,t=this.onSubmit,n="https://api.adorable.io/avatars/92/"+e.userID;return l.createElement("footer",{className:"teal"},l.createElement("form",{className:"container",onSubmit:t},l.createElement("div",{className:"row"},l.createElement("div",{className:"input-field col s10"},l.createElement("i",{className:"prefix mdi-communication-chat"}),l.createElement("input",{ref:"txtMessage",type:"text",placeholder:"Type your message"}),l.createElement("span",{className:"chip left"},l.createElement("img",{src:n}),l.createElement("span",null,"Anonymous robot #",e.userID))),l.createElement("div",{className:"input-field col s2"},l.createElement("button",{type:"submit",className:"waves-effect waves-light btn-floating btn-large"},l.createElement("i",{className:"mdi-content-send"}))))))}}]),t}(l.Component);c.propTypes={userID:l.PropTypes.string,sendMessage:l.PropTypes.func},t.default=c}).call(this)}finally{}},189:function(e,t,n){(function(e){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(324),s=o(c),f=n(3),p=r(f);navigator.geolocation.watchPosition(function(t){e.log(t)});var y=function(e){function t(e){a(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={lat:47.6553,lng:-122.3035},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.setState({lat:47.6553,lng:-122.3035})}},{key:"render",value:function(){return p.createElement(s.default,{mapboxApiAccessToken:"pk.eyJ1IjoianVuZXAxMDA5IiwiYSI6ImNpaTFpbXZhMjAwYXFzd2txaWhwZWg0MGkifQ.zVbpTuEmpLzyRasVFfkysQ",width:"100%",height:"100vh",latitude:this.state.lat,longitude:this.state.lng,zoom:14})}}]),t}(p.Component);t.default=y}).call(this)}finally{}}).call(t,n(11))},190:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{history:e.app.get("messages").toJS(),userID:e.app.get("userID")}}function i(e){return{addMessage:function(t){return e((0,p.addMessage)(t))},setUserID:function(t){return e((0,p.setCurrentUserID)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),s=e(c),f=n(129),p=n(186),y=n(188),d=e(y),b=n(187),h=e(b),m=n(189),v=e(m),_=function(e){function t(){var e,n,a,u;r(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.sendMessage=function(e){a.PubNub.publish({channel:"ReactChat",message:e})},u=n,o(a,u)}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=Math.round(1e6*Math.random());this.props.setUserID(e),this.PubNub=PUBNUB.init({publish_key:"pub-c-a21b783d-ac31-4e63-b4f4-d85df580cb54",subscribe_key:"sub-c-0aaf63fc-c4ca-11e6-90ff-0619f8945a4f",ssl:"https:"===location.protocol.toLowerCase()}),this.PubNub.subscribe({channel:"ReactChat",message:this.props.addMessage})}},{key:"render",value:function(){var e=this.props,t=this.sendMessage;return s.default.createElement("div",null,s.default.createElement(v.default,null),s.default.createElement(h.default,{history:e.history}),s.default.createElement(d.default,{userID:e.userID,sendMessage:t}))}}]),t}(s.default.Component);_.propTypes={history:s.default.PropTypes.array,userID:s.default.PropTypes.number,addMessage:s.default.PropTypes.func,setUserID:s.default.PropTypes.func},t.default=(0,f.connect)(u,i)(_)}).call(this)}finally{}},191:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n(215),n(217),n(216);var r=n(3),o=t(r),a=n(246),u=t(a),i=n(129),l=n(140),c=n(133),s=n(197),f=e(s),p=n(195),y=e(p);n(381);var d=(0,y.default)({}),b=(0,c.syncHistoryWithStore)(l.browserHistory,d);u.render(o.createElement("div",null,o.createElement(i.Provider,{store:d},o.createElement(l.Router,{history:b},f.default))),document.getElementById("root"))}).call(this)}finally{}},192:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.dispatch;return function(e){return function(n){if(!(0,i.default)(n.payload))return e(n);var r=n.types,u=n.payload,l=n.meta,c=u.promise,s=u.data,f=a(r,3),p=f[0],y=f[1],d=f[2];return t(o({type:p},s&&{payload:s},l&&{meta:l})),c.then(function(e){t({type:y,payload:e,meta:l})},function(e){t({type:d,payload:e,meta:l})})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=r;var u=n(199),i=e(u)}).call(this)}finally{}},193:function(e,t,n){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.SET_CURRENT_USERID:return e.update("userID",function(){return t.payload});case r.ADD_MESSAGE:return e.update("messages",function(e){return e.concat(t.payload)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(92),o=n(24),a=(0,o.fromJS)({userID:0,messages:[]});t.default=e}).call(this)}finally{}},194:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),o=n(133),a=n(193),u=e(a),i=(0,r.combineReducers)({routing:o.routerReducer,app:u.default});t.default=i}).call(this)}finally{}},195:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=l.compose.apply(void 0,[a()].concat(r(u())))(l.createStore)(b.default,e);return i(t),t}function a(){var e=[p.default,s.default];return l.applyMiddleware.apply(void 0,r(e))}function u(){var e=[];return e}function i(e){}Object.defineProperty(t,"__esModule",{value:!0});var l=n(84),c=n(368),s=e(c),f=n(192),p=e(f),y=n(196),d=(e(y),n(194)),b=e(d);t.default=o}).call(this)}finally{}},196:function(e,t,n){(function(e){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(367),a=r(o),u=n(198),i=r(u);t.default=(0,a.default)({collapsed:!0,logger:e,stateTransformer:function(e){return(0,i.default)(e)}})}).call(this)}finally{}}).call(t,n(11))},197:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=e(r),a=n(140),u=n(190),i=e(u);t.default=o.default.createElement(a.Route,{path:"/",component:i.default})}).call(this)}finally{}},198:function(e,t,n){try{(function(){"use strict";function e(e){return Object.keys(e).reduce(function(t,n){var o=e[n];return t[n]=r.Iterable.isIterable(o)?o.toJS():o,t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;var r=n(24)}).call(this)}finally{}},199:function(e,t,n){try{(function(){"use strict";function e(e){return!!e&&"object"===n(e.promise)&&"function"==typeof e.promise.then}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=e}).call(this)}finally{}},381:function(e,t,n){var r=n(185);"string"==typeof r&&(r=[[e.id,r,""]]),n(373)(r,{}),r.locals&&(e.exports=r.locals)},384:function(e,t){},385:function(e,t){}});
//# sourceMappingURL=app.32d4eb153f7fc02559d7.js.map